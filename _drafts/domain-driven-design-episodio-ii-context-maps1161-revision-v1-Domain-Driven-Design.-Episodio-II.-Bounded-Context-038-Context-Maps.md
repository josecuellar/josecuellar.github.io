---
id: 1172
title: 'Domain-Driven Design. Episodio II. Bounded Context &#038; Context Maps'
date: '2016-07-26T08:11:37+00:00'
author: Jose
layout: revision
guid: 'http://josecuellar.net/1161-revision-v1/'
permalink: '/?p=1172'
---

En el [post anterior](http://josecuellar.net/domain-driven-design-episodio-i-empezando/) vimos los primeros pasos estratégicos y cómo disgregábamos la complejidad en *Domains, SubDomains y Bounded Contexts*. Una vez identificados los **Bounded Context**, deberemos establecer el tipo de relaciones entre ellos: los **Context Maps** y como se mapean mediante **Translation Maps**

<center>![](http://josecuellar.net/wp-content/uploads/contextmap.png)</center> En la imagen se aprecian los Bounded Context y sus relaciones según el tipo de flujo de información entre ambos mediante ***U**pstream* (proveedor de servicios) y ***D**ownstream* (consumidor de servicios). ## Los patrones usados para describir los tipos de relación y su organización entre los equipos y los *Bounded Contexts*, se clasifican en:

 **Shared Kernel:** Comparten parte del modelo existiendo una interdependencia o un área común compartida entre Bounded Contexts. Dichos elementos compartidos no deberían modificarse sin consultarlo con los equipos afectados. <center>![](http://josecuellar.net/wp-content/uploads/sharedkernel.png)</center> **Bif Ball of Mud:** Monolito o Legacy Code no disgregado encapsulado/aislado en un Bounded Context compartiendo sus servicios. El equipo gestiona los servicios pudiendo comunicarse/organizarse mediante el resto de tipos de relación. **Supply-Consumer:** Un equipo gestiona los servicios del *Bounded Context* (Upstream) dando soporte bajo demanda según necesidades del equipo que gestiona el Bounded Context que solicita los recursos (Downstream). **PartnerShip:** Ambos equipos Downstream &amp; Upstream disponen de una fuerte y estrecha dependencia, siendo necesario planificar y sincronizar conjuntamente las actualizaciones de ambos Bounded Contexts. El equipo que gestiona el Bounded Context consumidor (Downstream) transforma o traduce el modelado represantado en los servicios compatibilizándolos al modelado propio. **Conformist:** Un equipo gestiona y publica los servicios (Upstream) en el Bounded Context independientemente de quien los solicite. El equipo que gestiona el Bounded Context consumidor (Downstream) se conforma con el modelado represantado en los servicios sin necesidad de compatibilizarlos al modelado propio. **Separated Way:** Equipo aislado e independiente trabajando en un Bounded Context sin relaciones con ningún otro. ## Evans, describe los tipos de Context Map más comunes entre Bonded Contexts y sus patrones de integración principales:

 **Anticorruption Layer (AL):** Capa aislada que gestiona las *traducciones* de los modelos entre los Bounded Context relacionados con objetivo de mantener la compatibilidad entre ellos. <center>![](http://josecuellar.net/wp-content/uploads/acl.jpg)</center> **Open Host Service (OHS):** Define un protocolo de acceso al sistema o servicios para la integración de los requerimientos. Normalmente necesita un lenguaje de publicación común de interacción entre los modelos. Por ejemplo el protocolo *REST* mediante *API* o mediante message exchange. **Published Language (PL):** Lenguaje común para la traducción entre los modelos que van a interaccionar. Por ejemplo *JSON* o *XML*. <div style="float:left;"><center>![](http://josecuellar.net/wp-content/uploads/contextmap2.png)</center></div> <center>![](http://josecuellar.net/wp-content/uploads/contextmap3.png)</center> En la primera imagen vemos el contexto principal y sus puntos de integración mediante un OHS y PL, utilizando AL para traducir e hidratar el modelo y establecer la compatibilidad. Dichas relaciones pueden ampliarse entre más Bounded Contexts bajo necesidad, como vemos en la segunda imagen. El contexto delimitado en negrita, nos muestra el *Bounded Context del núcleo de dominio* principal. El resto son *subdominios genéricos* de colaboración/soporte. 